## 一. 原型、Treeshaking、AST

Tree-shaking的本质是消除无用的js代码。

1. 读取代码文件， 将代码转换成AST抽象语法树
2. 遍历抽象语法树， 查找变量声明
3. 遍历抽象语法树，找出调用方法的语句， 将上一步找出的变量声明语句放在调用语句前
4. 处理导出

## 二. 节点遍历器

上面的代码比较简单(prototype/begin/source.js)，
```js
const a = () => 1
const b = () => 2
a()
``` 
一层作用域。没有任何嵌套的作用域，或者函数， 因此遍历AST比较简单。

但是对于正常的代码文件， 通常比较复杂， 因此需要实现节点遍历器，来遍历AST树。

这个节点遍历器其实就是遍历一个抽象语法树， 这个抽象语法树可以抽象成一个多茶树。
不过， 和普通的遍历树不同的是， 遍历抽象语法树时， 叶子节点不需要遍历到。